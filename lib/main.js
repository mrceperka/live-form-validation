!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.ContributteLiveForm=t():e.ContributteLiveForm=t()}(window,function(){return function(e){var t={};function a(o){if(t[o])return t[o].exports;var s=t[o]={i:o,l:!1,exports:{}};return e[o].call(s.exports,s,s.exports,a),s.l=!0,s.exports}return a.m=e,a.c=t,a.d=function(e,t,o){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(a.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)a.d(o,s,function(t){return e[t]}.bind(null,s));return o},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=4)}([function(e,t,a){"use strict";t.__esModule=!0;t.default={showMessageClassOnParent:"form-group",messageParentClass:!1,controlErrorClass:"has-error",controlValidClass:"has-success",messageErrorClass:"help-block text-danger",enableHiddenMessageClass:"show-hidden-error",disableLiveValidationClass:"no-live-validation",disableShowValidClass:"no-show-valid",messageTag:"span",messageIdPostfix:"_message",messageErrorPrefix:'&nbsp;<i class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></i>&nbsp;',showAllErrors:!0,showValid:!1,wait:!1,focusScreenOffsetY:!1}},function(e,t,a){"use strict";t.__esModule=!0;var o={options:a(0).default,forms:{},setOptions:function(e){for(var t in e)Object.prototype.hasOwnProperty.call(this.options,t)&&(this.options[t]=e[t])}};void 0!==window.LiveFormOptions&&o.setOptions(window.LiveFormOptions),o.isSpecialKey=function(e){return 20==e||16==e||9==e||27==e||17==e||91==e||19==e||18==e||93==e||e>=35&&e<=40||45==e||e>=33&&e<=34||e>=112&&e<=123||e>=144&&e<=145},o.setupHandlers=function(e){if(!this.hasClass(e,this.options.disableLiveValidationClass)&&!e.getAttribute("data-lfv-initialized")){e.setAttribute("data-lfv-initialized","true");var t=function(e){e=e||window.event,Nette.validateControl(e.target?e.target:e.srcElement)},a=this;Nette.addEvent(e,"change",t),Nette.addEvent(e,"blur",t),Nette.addEvent(e,"keydown",function(e){if(!a.isSpecialKey(e.which)&&(!1===a.options.wait||a.options.wait>=200)){a.removeClass(a.getGroupElement(this),a.options.controlErrorClass),a.removeClass(a.getGroupElement(this),a.options.controlValidClass);var t=a.getMessageElement(this);t.innerHTML="",t.className="",a.timeout&&clearTimeout(a.timeout)}}),Nette.addEvent(e,"keyup",function(e){!1!==a.options.wait&&9!==(e=e||window.event).keyCode&&(a.timeout&&clearTimeout(a.timeout),a.timeout=setTimeout(function(){t(e)},a.options.wait))})}},o.processServerErrors=function(e){for(var t=this.getMessageElement(e),a=this.getMessageParent(e),o=[],s=a.getElementsByClassName(this.options.messageErrorClass),r=s.length-1;r>-1;r--)if(s[r]!=t){var n=s[r].parentNode;n==a&&(o.push(s[r].outerHTML),n.removeChild(s[r]))}o.length>0&&(t.innerHTML=o.join(""))},o.addError=function(e,t){if(!this.hasClass(e,this.options.disableLiveValidationClass)){var a=this.getGroupElement(e);this.setFormProperty(e.form,"hasError",!0),this.addClass(a,this.options.controlErrorClass),this.options.showValid&&this.removeClass(a,this.options.controlValidClass),t=t?this.options.messageErrorPrefix+t:"&nbsp;";var o=this.getMessageElement(e);o.innerHTML=t,o.className=this.options.messageErrorClass}},o.removeError=function(e){if(!this.getFormProperty(e.form,"onLoadValidation")){var t=this.getGroupElement(e);if(this.removeClass(t,this.options.controlErrorClass),e.getAttribute("data-lfv-message-id")){var a=this.getMessageElement(e);a.innerHTML="",a.className=""}this.options.showValid&&(this.showValid(e)?this.addClass(t,this.options.controlValidClass):this.removeClass(t,this.options.controlValidClass))}},o.showValid=function(e){if(e.type){var t=e.type.toLowerCase();if("checkbox"==t||"radio"==t)return!1}return 0!=Nette.parseJSON(e.getAttribute("data-nette-rules")).length&&(""!=Nette.getEffectiveValue(e)&&!this.hasClass(e,this.options.disableShowValidClass))},o.getGroupElement=function(e){if(!1===this.options.showMessageClassOnParent)return e;for(var t=e;!this.hasClass(t,this.options.showMessageClassOnParent);)if(null===(t=t.parentNode))return e;return t},o.getMessageId=function(e){var t=e.id+this.options.messageIdPostfix;if(e.name&&(!e.id||!e.form.elements[e.name].tagName)){var a=e.name.match(/\[\]$/)?e.name.match(/(.*)\[\]$/)[1]:e.name;t=(e.form.id?e.form.id:"frm")+"-"+a+this.options.messageIdPostfix}for(var o=t,s=0;document.getElementById(o);)o=o+"_"+ ++s;return o},o.getMessageElement=function(e){e.name&&e.name.match(/\[\]$/)&&(e=e.form.elements[e.name].tagName?e:e.form.elements[e.name][0]);var t=e.getAttribute("data-lfv-message-id");t||(t=this.getMessageId(e),e.setAttribute("data-lfv-message-id",t));var a=document.getElementById(t);if(!a){(a=document.createElement(this.options.messageTag)).id=t,"none"!=e.style.display||this.hasClass(e,this.options.enableHiddenMessageClass)||(a.style.display="none");var o=this.getMessageParent(e);o&&o.appendChild(a)}return a},o.getMessageParent=function(e){var t=e.parentNode,a=!1;if(!1!==this.options.messageParentClass)for(a=!0;!this.hasClass(t,this.options.messageParentClass);)if(null===(t=t.parentNode)){t=e.parentNode,a=!1;break}if(e.type){var o=e.type.toLowerCase();"checkbox"!=o&&"radio"!=o||"LABEL"!=t.tagName||(t=t.parentNode)}return a||!e.name||e.form.elements[e.name].tagName||(t=t.parentNode),t},o.addClass=function(e,t){e.className?this.hasClass(e,t)||(e.className+=" "+t):e.className=t},o.hasClass=function(e,t){return!!e.className&&e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))},o.removeClass=function(e,t){if(this.hasClass(e,t)){var a=new RegExp("(\\s|^)"+t+"(\\s|$)"),o=e.className.match(a);e.className=e.className.replace(a," "==o[1]&&" "==o[2]?" ":"")}},o.getFormProperty=function(e,t){return null!=e&&null!=this.forms[e.id]&&this.forms[e.id][t]},o.setFormProperty=function(e,t,a){null!=e&&(null==this.forms[e.id]&&(this.forms[e.id]={}),this.forms[e.id][t]=a)},t.default=o},function(e,t){e.exports=require("nette-forms")},function(e,t,a){"use strict";var o=Object.assign||function(e){for(var t,a=1,o=arguments.length;a<o;a++)for(var s in t=arguments[a])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e};t.__esModule=!0;var s=a(2),r=a(1),n=function e(t){var a;if(t){if(t.tagName){if("radio"===t.type){var o=t.form.elements;for(a=0;a<o.length;a++)if(o[a].name===t.name&&o[a].checked)return o[a].value;return null}if("file"===t.type)return t.files||t.value;if("select"===t.tagName.toLowerCase()){var s=t.selectedIndex,r=t.options,n=[];if("select-one"===t.type)return s<0?null:r[s].value;for(a=0;a<r.length;a++)r[a].selected&&n.push(r[a].value);return n}if(t.name&&t.name.match(/\[\]$/)){o=t.form.elements[t.name].tagName?[t]:t.form.elements[t.name],n=[];for(a=0;a<o.length;a++){var i=o[a].value;"checkbox"===o[a].type&&o[a].checked?n.push(i):"checkbox"!==o[a].type&&""!==i&&n.push(i)}return n}return"checkbox"===t.type?t.checked:"textarea"===t.tagName.toLowerCase()?t.value.replace("\r",""):t.value.replace("\r","").replace(/^\s+|\s+$/g,"")}return t[0]?e(t[0]):null}return null},i=function(e,t){var a=r.default.hasClass(e,r.default.options.disableLiveValidationClass);a&&(!t||r.default.getFormProperty(e.form,"hasError")||r.default.getFormProperty(e.form,"onLoadValidation")||alert(t)),e.focus&&!r.default.getFormProperty(e.form,"hasError")&&(r.default.focusing||(r.default.focusing=!0,e.focus(),setTimeout(function(){r.default.focusing=!1;var t=r.default.options.focusScreenOffsetY;!1!==t&&e.getBoundingClientRect().top<t&&window.scrollBy(0,e.getBoundingClientRect().top-t)},10))),a||r.default.addError(e,t)},l=function(e){e.noValidate="novalidate",r.default.forms[e.id]={hasError:!1,onLoadValidation:!1},s.addEvent(e,"submit",function(t){s.validateForm(e)||(t&&t.stopPropagation?(t.stopPropagation(),t.preventDefault()):window.event&&(event.cancelBubble=!0,event.returnValue=!1))}),s.toggleForm(e);for(var t=0;t<e.elements.length;t++)r.default.setupHandlers(e.elements[t]),r.default.processServerErrors(e.elements[t])};t.default=o({},s,{getValue:n,validateControl:function e(t,a,o,l,u){t.name&&t.name.match(/\[\]$/)&&"checkbox"==t.type.toLowerCase()&&(t=t.form.elements[t.name].tagName?t:t.form.elements[t.name][0]),t=t.tagName?t:t[0],a=a||s.parseJSON(t.getAttribute("data-nette-rules")),l=void 0===l?{value:s.getEffectiveValue(t)}:l;for(var d=0,f=a.length;d<f;d++){var m=a[d],c=m.op.match(/(~)?([^?]+)/),p=m.control?t.form.elements.namedItem(m.control):t;if(m.neg=c[1],m.op=c[2],m.condition=!!m.rules,p)if("optional"!==m.op){if(!u||m.condition||":filled"===m.op){p=p.tagName?p:p[0];var g=t===p?l:{value:s.getEffectiveValue(p)},h=s.validateRule(p,m.op,m.arg,g);if(null!==h)if(m.neg&&(h=!h),m.condition&&h){if(!e(t,m.rules,o,l,":blank"!==m.op&&u))return!1}else if(!m.condition&&!h){if(s.isDisabled(p))continue;if(!o){var v=s.isArray(m.arg)?m.arg:[m.arg],b=m.msg.replace(/%(value|\d+)/g,function(e,a){return n("value"===a?p:t.form.elements.namedItem(v[a].control))});i(p,b)}return!1}}}else u=!s.validateRule(t,":filled",null,l)}return"number"!==t.type||t.validity.valid?(o||r.default.removeError(t),!0):(o||i(t,"Please enter a valid value."),!1)},validateForm:function(e,t){var a=e.form||e,o=!1;if(r.default.setFormProperty(a,"hasError",!1),a["nette-submittedBy"]&&null!==a["nette-submittedBy"].getAttribute("formnovalidate")){var n=s.parseJSON(a["nette-submittedBy"].getAttribute("data-nette-validation-scope"));if(!n.length)return!0;o=new RegExp("^("+n.join("-|")+"-)")}var i,l,u={},d=!0;for(i=0;i<a.elements.length;i++)if(!(l=a.elements[i]).tagName||l.tagName.toLowerCase()in{input:1,select:1,textarea:1,button:1}){if("radio"===l.type){if(u[l.name])continue;u[l.name]=!0}if(!(o&&!l.name.replace(/]\[|\[|]|$/g,"-").match(o)||s.isDisabled(l)||(d=s.validateControl(l)&&d)||r.default.options.showAllErrors))break}return d},addError:i,initForm:l,initOnLoad:function(){s.addEvent(document,"DOMContentLoaded",function(){for(var e=0;e<document.forms.length;e++)for(var t=document.forms[e],a=0;a<t.elements.length;a++)if(t.elements[a].getAttribute("data-nette-rules")){l(t),r.default.hasClass(t,"validate-on-load")&&(r.default.setFormProperty(t,"onLoadValidation",!0),s.validateForm(t),r.default.setFormProperty(t,"onLoadValidation",!1));break}s.addEvent(document.body,"click",function(e){var t=e.target||e.srcElement;t.form&&t.type in{submit:1,image:1}&&(t.form["nette-submittedBy"]=t)})})}})},function(e,t,a){"use strict";t.__esModule=!0;var o=a(1),s=a(0),r=a(3);t.default={LiveForm:o.default,NetteForms:r,options:s.default}}])});